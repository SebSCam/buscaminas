{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/api.service.component\";\n\nconst _c0 = function () {\n  return {\n    \"color\": \"#fff\"\n  };\n};\n\nfunction CalculatorComponent_fa_icon_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"fa-icon\", 13);\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"icon\", ctx_r0.faSpinner)(\"spin\", true)(\"styles\", i0.ɵɵpureFunction0(3, _c0));\n  }\n} // import { Equation } from '../../models/equation';\n// import { faCaretSquareLeft, faCaretSquareRight, faEraser, faSpinner } from '@fortawesome/free-solid-svg-icons';\n\n\nexport const HISTORY_PAGE_SIZE = 1;\nexport class CalculatorComponent {\n  constructor(api) {\n    this.api = api;\n    this.screenValue = '';\n    this.upperScreenValue = '';\n    this.state = State.FirstNumber;\n    this.number1 = null;\n    this.number2 = null;\n    this.sign = null; // public faCaretSquareLeft = faCaretSquareLeft;\n    // public faCaretSquareRight = faCaretSquareRight;\n    // public faEraser = faEraser;\n    // public faSpinner = faSpinner;\n\n    this.history = [];\n    this.currentHistoryShown = -1;\n    this.isLastHistoryElementShown = false;\n  }\n\n  ngOnInit() {\n    this.loadHistoryNextElement();\n  }\n\n  digitNumber(number) {\n    if (this.state == State.Result) {\n      this.reset();\n    }\n\n    this.screenValue += number;\n  }\n\n  digitMinus() {\n    if (this.screenValue == '') {\n      this.screenValue = '-';\n    } else {\n      this.digitSign('-');\n    }\n  }\n\n  digitSign(sign) {\n    if (this.screenValue == '') {\n      return;\n    }\n\n    this.number1 = parseInt(this.screenValue);\n    this.upperScreenValue = this.number1 + ' ' + sign;\n    this.screenValue = '';\n    this.sign = sign;\n    this.state = State.SecondNumber;\n  }\n\n  getResult() {\n    if (this.screenValue == '') {\n      return;\n    }\n\n    this.number2 = parseInt(this.screenValue);\n    this.upperScreenValue += ' ' + this.number2;\n    this.screenValue = '';\n    this.elaborateResult();\n  }\n\n  reset() {\n    this.state = State.FirstNumber;\n    this.screenValue = '';\n    this.upperScreenValue = '';\n    this.number1 = null;\n    this.number2 = null;\n    this.sign = null;\n    this.resetHistoryNavigation();\n  }\n\n  isSignButtonsEnabled() {\n    return this.state == State.FirstNumber || this.state == State.Result; // && this.state != State.Loading;\n  }\n\n  isMinusButtonEnabled() {\n    return this.isSignButtonsEnabled() || this.state == State.SecondNumber;\n  }\n\n  isResultButtonEnabled() {\n    return this.state == State.SecondNumber; // && this.state != State.Loading;\n  }\n\n  isLoadingVisible() {\n    return this.state == State.Loading;\n  } // private async elaborateResult() {\n  //     // mock\n  //     this.state = State.Loading;\n  //     const signSymbol = SignSymbols[this.sign];\n  //     // await new Promise( resolve => setTimeout(resolve, 500) );\n  //     try {\n  //         const equationObj: any = await this.api.solveEquation(this.number1, this.number2, signSymbol).toPromise();\n  //         const equation: Equation = equationObj;\n  //         this.state = State.Result;\n  //         this.history = [];\n  //         this.showResult(equation);\n  //     } catch(error) {\n  //         alert('API Server error');\n  //         this.reset();\n  //     }\n  // }\n  // private showResult(equation: Equation) {\n  //     this.screenValue = equation.result + '';\n  // }\n\n\n  handleKeyboardEvents(keyPress) {\n    let key = keyPress.key;\n\n    switch (key) {\n      case '0':\n        this.digitNumber(key);\n        break;\n\n      case '1':\n        this.digitNumber(key);\n        break;\n\n      case '2':\n        this.digitNumber(key);\n        break;\n\n      case '3':\n        this.digitNumber(key);\n        break;\n\n      case '4':\n        this.digitNumber(key);\n        break;\n\n      case '5':\n        this.digitNumber(key);\n        break;\n\n      case '6':\n        this.digitNumber(key);\n        break;\n\n      case '7':\n        this.digitNumber(key);\n        break;\n\n      case '8':\n        this.digitNumber(key);\n        break;\n\n      case '9':\n        this.digitNumber(key);\n        break;\n\n      case '+':\n        this.digitSign(key);\n        break;\n\n      case '-':\n        this.digitSign(key);\n        break;\n\n      case '*':\n        this.digitSign(key);\n        break;\n\n      case '/':\n        this.digitSign(key);\n        break;\n\n      case '=':\n        this.getResult();\n        break;\n\n      case 'Enter':\n        this.getResult();\n        break;\n    }\n  } // Equation history and pagination handling\n\n\n  isPreviousHistoryEnabled() {\n    return this.history && Array.isArray(this.history) && !this.isLastHistoryElementShown;\n  }\n\n  isNextHistoryEnabled() {\n    return this.history && this.history.length > 0 && this.currentHistoryShown >= 0;\n  }\n\n  resetHistoryNavigation() {\n    this.currentHistoryShown = -1;\n    this.isLastHistoryElementShown = false;\n  }\n\n}\n\nCalculatorComponent.ɵfac = function CalculatorComponent_Factory(t) {\n  return new (t || CalculatorComponent)(i0.ɵɵdirectiveInject(i1.ApiService));\n};\n\nCalculatorComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: CalculatorComponent,\n  selectors: [[\"app-calculator\"]],\n  hostBindings: function CalculatorComponent_HostBindings(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵlistener(\"keypress\", function CalculatorComponent_keypress_HostBindingHandler($event) {\n        return ctx.handleKeyboardEvents($event);\n      }, false, i0.ɵɵresolveDocument);\n    }\n  },\n  decls: 45,\n  vars: 15,\n  consts: [[1, \"calculator-container\", \"w-container\"], [1, \"calc-background-field\"], [1, \"formula\"], [1, \"_100\", \"calcelement\"], [1, \"text-field-wrapper\", \"w-form\", \"screen-container\"], [\"class\", \"loading-icon\", \"size\", \"lg\", 3, \"icon\", \"spin\", \"styles\", 4, \"ngIf\"], [\"data-name\", \"calculator io\", \"id\", \"wf-form-calculator-io\", \"name\", \"wf-form-calculator-io\"], [\"data-name\", \"screen\", \"id\", \"screen\", \"maxlength\", \"256\", \"name\", \"screen\", \"placeholder\", \"0\", \"type\", \"text\", \"pattern\", \"[0-9-+*/.()]\", \"readonly\", \"\", 1, \"text-field\", \"w-input\", 3, \"ngModel\", \"ngModelChange\"], [1, \"_25\", \"_50\", \"button\", \"calcelement\", 3, \"click\"], [3, \"icon\"], [1, \"_25\", \"button\", \"calcelement\", 3, \"disabled\", \"click\"], [1, \"_25\", \"bold\", \"button\", \"calcelement\", 3, \"click\"], [1, \"_25\", \"_50\", \"button\", \"calcelement\", 3, \"disabled\", \"click\"], [\"size\", \"lg\", 1, \"loading-icon\", 3, \"icon\", \"spin\", \"styles\"]],\n  template: function CalculatorComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵelementStart(1, \"div\", 1);\n      i0.ɵɵelementStart(2, \"div\", 2);\n      i0.ɵɵtext(3);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"div\", 3);\n      i0.ɵɵelementStart(5, \"div\", 4);\n      i0.ɵɵtemplate(6, CalculatorComponent_fa_icon_6_Template, 1, 4, \"fa-icon\", 5);\n      i0.ɵɵelementStart(7, \"form\", 6);\n      i0.ɵɵelementStart(8, \"input\", 7);\n      i0.ɵɵlistener(\"ngModelChange\", function CalculatorComponent_Template_input_ngModelChange_8_listener($event) {\n        return ctx.screenValue = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"div\", 8);\n      i0.ɵɵlistener(\"click\", function CalculatorComponent_Template_div_click_9_listener() {\n        return ctx.reset();\n      });\n      i0.ɵɵelement(10, \"fa-icon\", 9);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"button\", 10);\n      i0.ɵɵlistener(\"click\", function CalculatorComponent_Template_button_click_11_listener() {\n        return ctx.showHistoryPrevious();\n      });\n      i0.ɵɵelement(12, \"fa-icon\", 9);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"button\", 10);\n      i0.ɵɵlistener(\"click\", function CalculatorComponent_Template_button_click_13_listener() {\n        return ctx.showHistoryNext();\n      });\n      i0.ɵɵelement(14, \"fa-icon\", 9);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"button\", 11);\n      i0.ɵɵlistener(\"click\", function CalculatorComponent_Template_button_click_15_listener() {\n        return ctx.digitNumber(\"7\");\n      });\n      i0.ɵɵtext(16, \"7\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(17, \"button\", 11);\n      i0.ɵɵlistener(\"click\", function CalculatorComponent_Template_button_click_17_listener() {\n        return ctx.digitNumber(\"8\");\n      });\n      i0.ɵɵtext(18, \"8\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(19, \"button\", 11);\n      i0.ɵɵlistener(\"click\", function CalculatorComponent_Template_button_click_19_listener() {\n        return ctx.digitNumber(\"9\");\n      });\n      i0.ɵɵtext(20, \"9\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(21, \"button\", 10);\n      i0.ɵɵlistener(\"click\", function CalculatorComponent_Template_button_click_21_listener() {\n        return ctx.digitSign(\"/\");\n      });\n      i0.ɵɵtext(22, \"\\u00F7\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(23, \"button\", 11);\n      i0.ɵɵlistener(\"click\", function CalculatorComponent_Template_button_click_23_listener() {\n        return ctx.digitNumber(\"4\");\n      });\n      i0.ɵɵtext(24, \"4\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(25, \"button\", 11);\n      i0.ɵɵlistener(\"click\", function CalculatorComponent_Template_button_click_25_listener() {\n        return ctx.digitNumber(\"5\");\n      });\n      i0.ɵɵtext(26, \"5\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(27, \"button\", 11);\n      i0.ɵɵlistener(\"click\", function CalculatorComponent_Template_button_click_27_listener() {\n        return ctx.digitNumber(\"6\");\n      });\n      i0.ɵɵtext(28, \"6\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(29, \"button\", 10);\n      i0.ɵɵlistener(\"click\", function CalculatorComponent_Template_button_click_29_listener() {\n        return ctx.digitSign(\"x\");\n      });\n      i0.ɵɵtext(30, \"x\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(31, \"button\", 11);\n      i0.ɵɵlistener(\"click\", function CalculatorComponent_Template_button_click_31_listener() {\n        return ctx.digitNumber(\"1\");\n      });\n      i0.ɵɵtext(32, \"1\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(33, \"button\", 11);\n      i0.ɵɵlistener(\"click\", function CalculatorComponent_Template_button_click_33_listener() {\n        return ctx.digitNumber(\"2\");\n      });\n      i0.ɵɵtext(34, \"2\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(35, \"button\", 11);\n      i0.ɵɵlistener(\"click\", function CalculatorComponent_Template_button_click_35_listener() {\n        return ctx.digitNumber(\"3\");\n      });\n      i0.ɵɵtext(36, \"3\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(37, \"button\", 10);\n      i0.ɵɵlistener(\"click\", function CalculatorComponent_Template_button_click_37_listener() {\n        return ctx.digitMinus();\n      });\n      i0.ɵɵtext(38, \"-\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(39, \"button\", 11);\n      i0.ɵɵlistener(\"click\", function CalculatorComponent_Template_button_click_39_listener() {\n        return ctx.digitNumber(\"0\");\n      });\n      i0.ɵɵtext(40, \"0\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(41, \"button\", 12);\n      i0.ɵɵlistener(\"click\", function CalculatorComponent_Template_button_click_41_listener() {\n        return ctx.getResult();\n      });\n      i0.ɵɵtext(42, \"=\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(43, \"button\", 10);\n      i0.ɵɵlistener(\"click\", function CalculatorComponent_Template_button_click_43_listener() {\n        return ctx.digitSign(\"+\");\n      });\n      i0.ɵɵtext(44, \"+\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(3);\n      i0.ɵɵtextInterpolate1(\"\", ctx.upperScreenValue, \"\\u00A0\");\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngIf\", ctx.isLoadingVisible());\n      i0.ɵɵadvance(2);\n      i0.ɵɵstyleProp(\"background-color\", \"#424242\");\n      i0.ɵɵproperty(\"ngModel\", ctx.screenValue);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"icon\", ctx.faEraser);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"disabled\", !ctx.isPreviousHistoryEnabled());\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"icon\", ctx.faCaretSquareLeft);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"disabled\", !ctx.isNextHistoryEnabled());\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"icon\", ctx.faCaretSquareRight);\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"disabled\", !ctx.isSignButtonsEnabled());\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"disabled\", !ctx.isSignButtonsEnabled());\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"disabled\", !ctx.isMinusButtonEnabled());\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"disabled\", !ctx.isResultButtonEnabled());\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"disabled\", !ctx.isSignButtonsEnabled());\n    }\n  },\n  styles: [\"(()[_ngcontent-%COMP%]   =[_ngcontent-%COMP%] >  { // webpackBootstrap\\n \\t\\\"use strict\\\";\\n \\t\\n \\t\\n })()[_ngcontent-%COMP%]\\n;\"]\n});\nexport var State;\n\n(function (State) {\n  State[State[\"FirstNumber\"] = 0] = \"FirstNumber\";\n  State[State[\"SecondNumber\"] = 1] = \"SecondNumber\";\n  State[State[\"Result\"] = 2] = \"Result\";\n  State[State[\"Loading\"] = 3] = \"Loading\";\n})(State || (State = {}));\n\n;\nexport const SignSymbols = {\n  '+': '+',\n  '-': '-',\n  'x': 'x',\n  '/': ':'\n};","map":{"version":3,"sources":["/home/sebscam/Code/spring-calculator/calculator-frontend/src/app/components/calculator/calculator.component.ts"],"names":["i0","i1","_c0","CalculatorComponent_fa_icon_6_Template","rf","ctx","ɵɵelement","ctx_r0","ɵɵnextContext","ɵɵproperty","faSpinner","ɵɵpureFunction0","HISTORY_PAGE_SIZE","CalculatorComponent","constructor","api","screenValue","upperScreenValue","state","State","FirstNumber","number1","number2","sign","history","currentHistoryShown","isLastHistoryElementShown","ngOnInit","loadHistoryNextElement","digitNumber","number","Result","reset","digitMinus","digitSign","parseInt","SecondNumber","getResult","elaborateResult","resetHistoryNavigation","isSignButtonsEnabled","isMinusButtonEnabled","isResultButtonEnabled","isLoadingVisible","Loading","handleKeyboardEvents","keyPress","key","isPreviousHistoryEnabled","Array","isArray","isNextHistoryEnabled","length","ɵfac","CalculatorComponent_Factory","t","ɵɵdirectiveInject","ApiService","ɵcmp","ɵɵdefineComponent","type","selectors","hostBindings","CalculatorComponent_HostBindings","ɵɵlistener","CalculatorComponent_keypress_HostBindingHandler","$event","ɵɵresolveDocument","decls","vars","consts","template","CalculatorComponent_Template","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵtemplate","CalculatorComponent_Template_input_ngModelChange_8_listener","CalculatorComponent_Template_div_click_9_listener","CalculatorComponent_Template_button_click_11_listener","showHistoryPrevious","CalculatorComponent_Template_button_click_13_listener","showHistoryNext","CalculatorComponent_Template_button_click_15_listener","CalculatorComponent_Template_button_click_17_listener","CalculatorComponent_Template_button_click_19_listener","CalculatorComponent_Template_button_click_21_listener","CalculatorComponent_Template_button_click_23_listener","CalculatorComponent_Template_button_click_25_listener","CalculatorComponent_Template_button_click_27_listener","CalculatorComponent_Template_button_click_29_listener","CalculatorComponent_Template_button_click_31_listener","CalculatorComponent_Template_button_click_33_listener","CalculatorComponent_Template_button_click_35_listener","CalculatorComponent_Template_button_click_37_listener","CalculatorComponent_Template_button_click_39_listener","CalculatorComponent_Template_button_click_41_listener","CalculatorComponent_Template_button_click_43_listener","ɵɵadvance","ɵɵtextInterpolate1","ɵɵstyleProp","faEraser","faCaretSquareLeft","faCaretSquareRight","styles","SignSymbols"],"mappings":"AAAA,OAAO,KAAKA,EAAZ,MAAoB,eAApB;AACA,OAAO,KAAKC,EAAZ,MAAoB,sCAApB;;AACA,MAAMC,GAAG,GAAG,YAAY;AAAE,SAAO;AAAE,aAAS;AAAX,GAAP;AAA6B,CAAvD;;AACA,SAASC,sCAAT,CAAgDC,EAAhD,EAAoDC,GAApD,EAAyD;AAAE,MAAID,EAAE,GAAG,CAAT,EAAY;AACnEJ,IAAAA,EAAE,CAACM,SAAH,CAAa,CAAb,EAAgB,SAAhB,EAA2B,EAA3B;AACH;;AAAC,MAAIF,EAAE,GAAG,CAAT,EAAY;AACV,UAAMG,MAAM,GAAGP,EAAE,CAACQ,aAAH,EAAf;AACAR,IAAAA,EAAE,CAACS,UAAH,CAAc,MAAd,EAAsBF,MAAM,CAACG,SAA7B,EAAwC,MAAxC,EAAgD,IAAhD,EAAsD,QAAtD,EAAgEV,EAAE,CAACW,eAAH,CAAmB,CAAnB,EAAsBT,GAAtB,CAAhE;AACH;AAAE,C,CACH;AACA;;;AACA,OAAO,MAAMU,iBAAiB,GAAG,CAA1B;AACP,OAAO,MAAMC,mBAAN,CAA0B;AAC7BC,EAAAA,WAAW,CAACC,GAAD,EAAM;AACb,SAAKA,GAAL,GAAWA,GAAX;AACA,SAAKC,WAAL,GAAmB,EAAnB;AACA,SAAKC,gBAAL,GAAwB,EAAxB;AACA,SAAKC,KAAL,GAAaC,KAAK,CAACC,WAAnB;AACA,SAAKC,OAAL,GAAe,IAAf;AACA,SAAKC,OAAL,GAAe,IAAf;AACA,SAAKC,IAAL,GAAY,IAAZ,CAPa,CAQb;AACA;AACA;AACA;;AACA,SAAKC,OAAL,GAAe,EAAf;AACA,SAAKC,mBAAL,GAA2B,CAAC,CAA5B;AACA,SAAKC,yBAAL,GAAiC,KAAjC;AACH;;AACDC,EAAAA,QAAQ,GAAG;AACP,SAAKC,sBAAL;AACH;;AACDC,EAAAA,WAAW,CAACC,MAAD,EAAS;AAChB,QAAI,KAAKZ,KAAL,IAAcC,KAAK,CAACY,MAAxB,EAAgC;AAC5B,WAAKC,KAAL;AACH;;AACD,SAAKhB,WAAL,IAAoBc,MAApB;AACH;;AACDG,EAAAA,UAAU,GAAG;AACT,QAAI,KAAKjB,WAAL,IAAoB,EAAxB,EAA4B;AACxB,WAAKA,WAAL,GAAmB,GAAnB;AACH,KAFD,MAGK;AACD,WAAKkB,SAAL,CAAe,GAAf;AACH;AACJ;;AACDA,EAAAA,SAAS,CAACX,IAAD,EAAO;AACZ,QAAI,KAAKP,WAAL,IAAoB,EAAxB,EAA4B;AACxB;AACH;;AACD,SAAKK,OAAL,GAAec,QAAQ,CAAC,KAAKnB,WAAN,CAAvB;AACA,SAAKC,gBAAL,GAAwB,KAAKI,OAAL,GAAe,GAAf,GAAqBE,IAA7C;AACA,SAAKP,WAAL,GAAmB,EAAnB;AACA,SAAKO,IAAL,GAAYA,IAAZ;AACA,SAAKL,KAAL,GAAaC,KAAK,CAACiB,YAAnB;AACH;;AACDC,EAAAA,SAAS,GAAG;AACR,QAAI,KAAKrB,WAAL,IAAoB,EAAxB,EAA4B;AACxB;AACH;;AACD,SAAKM,OAAL,GAAea,QAAQ,CAAC,KAAKnB,WAAN,CAAvB;AACA,SAAKC,gBAAL,IAAyB,MAAM,KAAKK,OAApC;AACA,SAAKN,WAAL,GAAmB,EAAnB;AACA,SAAKsB,eAAL;AACH;;AACDN,EAAAA,KAAK,GAAG;AACJ,SAAKd,KAAL,GAAaC,KAAK,CAACC,WAAnB;AACA,SAAKJ,WAAL,GAAmB,EAAnB;AACA,SAAKC,gBAAL,GAAwB,EAAxB;AACA,SAAKI,OAAL,GAAe,IAAf;AACA,SAAKC,OAAL,GAAe,IAAf;AACA,SAAKC,IAAL,GAAY,IAAZ;AACA,SAAKgB,sBAAL;AACH;;AACDC,EAAAA,oBAAoB,GAAG;AACnB,WAAO,KAAKtB,KAAL,IAAcC,KAAK,CAACC,WAApB,IAAmC,KAAKF,KAAL,IAAcC,KAAK,CAACY,MAA9D,CADmB,CACmD;AACzE;;AACDU,EAAAA,oBAAoB,GAAG;AACnB,WAAO,KAAKD,oBAAL,MAA+B,KAAKtB,KAAL,IAAcC,KAAK,CAACiB,YAA1D;AACH;;AACDM,EAAAA,qBAAqB,GAAG;AACpB,WAAO,KAAKxB,KAAL,IAAcC,KAAK,CAACiB,YAA3B,CADoB,CACqB;AAC5C;;AACDO,EAAAA,gBAAgB,GAAG;AACf,WAAO,KAAKzB,KAAL,IAAcC,KAAK,CAACyB,OAA3B;AACH,GAzE4B,CA0E7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACAC,EAAAA,oBAAoB,CAACC,QAAD,EAAW;AAC3B,QAAIC,GAAG,GAAGD,QAAQ,CAACC,GAAnB;;AACA,YAAQA,GAAR;AACI,WAAK,GAAL;AACI,aAAKlB,WAAL,CAAiBkB,GAAjB;AACA;;AACJ,WAAK,GAAL;AACI,aAAKlB,WAAL,CAAiBkB,GAAjB;AACA;;AACJ,WAAK,GAAL;AACI,aAAKlB,WAAL,CAAiBkB,GAAjB;AACA;;AACJ,WAAK,GAAL;AACI,aAAKlB,WAAL,CAAiBkB,GAAjB;AACA;;AACJ,WAAK,GAAL;AACI,aAAKlB,WAAL,CAAiBkB,GAAjB;AACA;;AACJ,WAAK,GAAL;AACI,aAAKlB,WAAL,CAAiBkB,GAAjB;AACA;;AACJ,WAAK,GAAL;AACI,aAAKlB,WAAL,CAAiBkB,GAAjB;AACA;;AACJ,WAAK,GAAL;AACI,aAAKlB,WAAL,CAAiBkB,GAAjB;AACA;;AACJ,WAAK,GAAL;AACI,aAAKlB,WAAL,CAAiBkB,GAAjB;AACA;;AACJ,WAAK,GAAL;AACI,aAAKlB,WAAL,CAAiBkB,GAAjB;AACA;;AACJ,WAAK,GAAL;AACI,aAAKb,SAAL,CAAea,GAAf;AACA;;AACJ,WAAK,GAAL;AACI,aAAKb,SAAL,CAAea,GAAf;AACA;;AACJ,WAAK,GAAL;AACI,aAAKb,SAAL,CAAea,GAAf;AACA;;AACJ,WAAK,GAAL;AACI,aAAKb,SAAL,CAAea,GAAf;AACA;;AACJ,WAAK,GAAL;AACI,aAAKV,SAAL;AACA;;AACJ,WAAK,OAAL;AACI,aAAKA,SAAL;AACA;AAhDR;AAkDH,GAjJ4B,CAkJ7B;;;AACAW,EAAAA,wBAAwB,GAAG;AACvB,WAAO,KAAKxB,OAAL,IAAgByB,KAAK,CAACC,OAAN,CAAc,KAAK1B,OAAnB,CAAhB,IACA,CAAC,KAAKE,yBADb;AAEH;;AACDyB,EAAAA,oBAAoB,GAAG;AACnB,WAAO,KAAK3B,OAAL,IAAgB,KAAKA,OAAL,CAAa4B,MAAb,GAAsB,CAAtC,IACH,KAAK3B,mBAAL,IAA4B,CADhC;AAEH;;AACDc,EAAAA,sBAAsB,GAAG;AACrB,SAAKd,mBAAL,GAA2B,CAAC,CAA5B;AACA,SAAKC,yBAAL,GAAiC,KAAjC;AACH;;AA9J4B;;AAgKjCb,mBAAmB,CAACwC,IAApB,GAA2B,SAASC,2BAAT,CAAqCC,CAArC,EAAwC;AAAE,SAAO,KAAKA,CAAC,IAAI1C,mBAAV,EAA+Bb,EAAE,CAACwD,iBAAH,CAAqBvD,EAAE,CAACwD,UAAxB,CAA/B,CAAP;AAA6E,CAAlJ;;AACA5C,mBAAmB,CAAC6C,IAApB,GAA2B,aAAc1D,EAAE,CAAC2D,iBAAH,CAAqB;AAAEC,EAAAA,IAAI,EAAE/C,mBAAR;AAA6BgD,EAAAA,SAAS,EAAE,CAAC,CAAC,gBAAD,CAAD,CAAxC;AAA8DC,EAAAA,YAAY,EAAE,SAASC,gCAAT,CAA0C3D,EAA1C,EAA8CC,GAA9C,EAAmD;AAAE,QAAID,EAAE,GAAG,CAAT,EAAY;AACnMJ,MAAAA,EAAE,CAACgE,UAAH,CAAc,UAAd,EAA0B,SAASC,+CAAT,CAAyDC,MAAzD,EAAiE;AAAE,eAAO7D,GAAG,CAACwC,oBAAJ,CAAyBqB,MAAzB,CAAP;AAA0C,OAAvI,EAAyI,KAAzI,EAAgJlE,EAAE,CAACmE,iBAAnJ;AACH;AAAE,GAFuD;AAErDC,EAAAA,KAAK,EAAE,EAF8C;AAE1CC,EAAAA,IAAI,EAAE,EAFoC;AAEhCC,EAAAA,MAAM,EAAE,CAAC,CAAC,CAAD,EAAI,sBAAJ,EAA4B,aAA5B,CAAD,EAA6C,CAAC,CAAD,EAAI,uBAAJ,CAA7C,EAA2E,CAAC,CAAD,EAAI,SAAJ,CAA3E,EAA2F,CAAC,CAAD,EAAI,MAAJ,EAAY,aAAZ,CAA3F,EAAuH,CAAC,CAAD,EAAI,oBAAJ,EAA0B,QAA1B,EAAoC,kBAApC,CAAvH,EAAgL,CAAC,OAAD,EAAU,cAAV,EAA0B,MAA1B,EAAkC,IAAlC,EAAwC,CAAxC,EAA2C,MAA3C,EAAmD,MAAnD,EAA2D,QAA3D,EAAqE,CAArE,EAAwE,MAAxE,CAAhL,EAAiQ,CAAC,WAAD,EAAc,eAAd,EAA+B,IAA/B,EAAqC,uBAArC,EAA8D,MAA9D,EAAsE,uBAAtE,CAAjQ,EAAiW,CAAC,WAAD,EAAc,QAAd,EAAwB,IAAxB,EAA8B,QAA9B,EAAwC,WAAxC,EAAqD,KAArD,EAA4D,MAA5D,EAAoE,QAApE,EAA8E,aAA9E,EAA6F,GAA7F,EAAkG,MAAlG,EAA0G,MAA1G,EAAkH,SAAlH,EAA6H,cAA7H,EAA6I,UAA7I,EAAyJ,EAAzJ,EAA6J,CAA7J,EAAgK,YAAhK,EAA8K,SAA9K,EAAyL,CAAzL,EAA4L,SAA5L,EAAuM,eAAvM,CAAjW,EAA0jB,CAAC,CAAD,EAAI,KAAJ,EAAW,KAAX,EAAkB,QAAlB,EAA4B,aAA5B,EAA2C,CAA3C,EAA8C,OAA9C,CAA1jB,EAAknB,CAAC,CAAD,EAAI,MAAJ,CAAlnB,EAA+nB,CAAC,CAAD,EAAI,KAAJ,EAAW,QAAX,EAAqB,aAArB,EAAoC,CAApC,EAAuC,UAAvC,EAAmD,OAAnD,CAA/nB,EAA4rB,CAAC,CAAD,EAAI,KAAJ,EAAW,MAAX,EAAmB,QAAnB,EAA6B,aAA7B,EAA4C,CAA5C,EAA+C,OAA/C,CAA5rB,EAAqvB,CAAC,CAAD,EAAI,KAAJ,EAAW,KAAX,EAAkB,QAAlB,EAA4B,aAA5B,EAA2C,CAA3C,EAA8C,UAA9C,EAA0D,OAA1D,CAArvB,EAAyzB,CAAC,MAAD,EAAS,IAAT,EAAe,CAAf,EAAkB,cAAlB,EAAkC,CAAlC,EAAqC,MAArC,EAA6C,MAA7C,EAAqD,QAArD,CAAzzB,CAFwB;AAEk2BC,EAAAA,QAAQ,EAAE,SAASC,4BAAT,CAAsCpE,EAAtC,EAA0CC,GAA1C,EAA+C;AAAE,QAAID,EAAE,GAAG,CAAT,EAAY;AAC/9BJ,MAAAA,EAAE,CAACyE,cAAH,CAAkB,CAAlB,EAAqB,KAArB,EAA4B,CAA5B;AACAzE,MAAAA,EAAE,CAACyE,cAAH,CAAkB,CAAlB,EAAqB,KAArB,EAA4B,CAA5B;AACAzE,MAAAA,EAAE,CAACyE,cAAH,CAAkB,CAAlB,EAAqB,KAArB,EAA4B,CAA5B;AACAzE,MAAAA,EAAE,CAAC0E,MAAH,CAAU,CAAV;AACA1E,MAAAA,EAAE,CAAC2E,YAAH;AACA3E,MAAAA,EAAE,CAACyE,cAAH,CAAkB,CAAlB,EAAqB,KAArB,EAA4B,CAA5B;AACAzE,MAAAA,EAAE,CAACyE,cAAH,CAAkB,CAAlB,EAAqB,KAArB,EAA4B,CAA5B;AACAzE,MAAAA,EAAE,CAAC4E,UAAH,CAAc,CAAd,EAAiBzE,sCAAjB,EAAyD,CAAzD,EAA4D,CAA5D,EAA+D,SAA/D,EAA0E,CAA1E;AACAH,MAAAA,EAAE,CAACyE,cAAH,CAAkB,CAAlB,EAAqB,MAArB,EAA6B,CAA7B;AACAzE,MAAAA,EAAE,CAACyE,cAAH,CAAkB,CAAlB,EAAqB,OAArB,EAA8B,CAA9B;AACAzE,MAAAA,EAAE,CAACgE,UAAH,CAAc,eAAd,EAA+B,SAASa,2DAAT,CAAqEX,MAArE,EAA6E;AAAE,eAAO7D,GAAG,CAACW,WAAJ,GAAkBkD,MAAzB;AAAkC,OAAhJ;AACAlE,MAAAA,EAAE,CAAC2E,YAAH;AACA3E,MAAAA,EAAE,CAAC2E,YAAH;AACA3E,MAAAA,EAAE,CAAC2E,YAAH;AACA3E,MAAAA,EAAE,CAAC2E,YAAH;AACA3E,MAAAA,EAAE,CAACyE,cAAH,CAAkB,CAAlB,EAAqB,KAArB,EAA4B,CAA5B;AACAzE,MAAAA,EAAE,CAACgE,UAAH,CAAc,OAAd,EAAuB,SAASc,iDAAT,GAA6D;AAAE,eAAOzE,GAAG,CAAC2B,KAAJ,EAAP;AAAqB,OAA3G;AACAhC,MAAAA,EAAE,CAACM,SAAH,CAAa,EAAb,EAAiB,SAAjB,EAA4B,CAA5B;AACAN,MAAAA,EAAE,CAAC2E,YAAH;AACA3E,MAAAA,EAAE,CAACyE,cAAH,CAAkB,EAAlB,EAAsB,QAAtB,EAAgC,EAAhC;AACAzE,MAAAA,EAAE,CAACgE,UAAH,CAAc,OAAd,EAAuB,SAASe,qDAAT,GAAiE;AAAE,eAAO1E,GAAG,CAAC2E,mBAAJ,EAAP;AAAmC,OAA7H;AACAhF,MAAAA,EAAE,CAACM,SAAH,CAAa,EAAb,EAAiB,SAAjB,EAA4B,CAA5B;AACAN,MAAAA,EAAE,CAAC2E,YAAH;AACA3E,MAAAA,EAAE,CAACyE,cAAH,CAAkB,EAAlB,EAAsB,QAAtB,EAAgC,EAAhC;AACAzE,MAAAA,EAAE,CAACgE,UAAH,CAAc,OAAd,EAAuB,SAASiB,qDAAT,GAAiE;AAAE,eAAO5E,GAAG,CAAC6E,eAAJ,EAAP;AAA+B,OAAzH;AACAlF,MAAAA,EAAE,CAACM,SAAH,CAAa,EAAb,EAAiB,SAAjB,EAA4B,CAA5B;AACAN,MAAAA,EAAE,CAAC2E,YAAH;AACA3E,MAAAA,EAAE,CAACyE,cAAH,CAAkB,EAAlB,EAAsB,QAAtB,EAAgC,EAAhC;AACAzE,MAAAA,EAAE,CAACgE,UAAH,CAAc,OAAd,EAAuB,SAASmB,qDAAT,GAAiE;AAAE,eAAO9E,GAAG,CAACwB,WAAJ,CAAgB,GAAhB,CAAP;AAA8B,OAAxH;AACA7B,MAAAA,EAAE,CAAC0E,MAAH,CAAU,EAAV,EAAc,GAAd;AACA1E,MAAAA,EAAE,CAAC2E,YAAH;AACA3E,MAAAA,EAAE,CAACyE,cAAH,CAAkB,EAAlB,EAAsB,QAAtB,EAAgC,EAAhC;AACAzE,MAAAA,EAAE,CAACgE,UAAH,CAAc,OAAd,EAAuB,SAASoB,qDAAT,GAAiE;AAAE,eAAO/E,GAAG,CAACwB,WAAJ,CAAgB,GAAhB,CAAP;AAA8B,OAAxH;AACA7B,MAAAA,EAAE,CAAC0E,MAAH,CAAU,EAAV,EAAc,GAAd;AACA1E,MAAAA,EAAE,CAAC2E,YAAH;AACA3E,MAAAA,EAAE,CAACyE,cAAH,CAAkB,EAAlB,EAAsB,QAAtB,EAAgC,EAAhC;AACAzE,MAAAA,EAAE,CAACgE,UAAH,CAAc,OAAd,EAAuB,SAASqB,qDAAT,GAAiE;AAAE,eAAOhF,GAAG,CAACwB,WAAJ,CAAgB,GAAhB,CAAP;AAA8B,OAAxH;AACA7B,MAAAA,EAAE,CAAC0E,MAAH,CAAU,EAAV,EAAc,GAAd;AACA1E,MAAAA,EAAE,CAAC2E,YAAH;AACA3E,MAAAA,EAAE,CAACyE,cAAH,CAAkB,EAAlB,EAAsB,QAAtB,EAAgC,EAAhC;AACAzE,MAAAA,EAAE,CAACgE,UAAH,CAAc,OAAd,EAAuB,SAASsB,qDAAT,GAAiE;AAAE,eAAOjF,GAAG,CAAC6B,SAAJ,CAAc,GAAd,CAAP;AAA4B,OAAtH;AACAlC,MAAAA,EAAE,CAAC0E,MAAH,CAAU,EAAV,EAAc,QAAd;AACA1E,MAAAA,EAAE,CAAC2E,YAAH;AACA3E,MAAAA,EAAE,CAACyE,cAAH,CAAkB,EAAlB,EAAsB,QAAtB,EAAgC,EAAhC;AACAzE,MAAAA,EAAE,CAACgE,UAAH,CAAc,OAAd,EAAuB,SAASuB,qDAAT,GAAiE;AAAE,eAAOlF,GAAG,CAACwB,WAAJ,CAAgB,GAAhB,CAAP;AAA8B,OAAxH;AACA7B,MAAAA,EAAE,CAAC0E,MAAH,CAAU,EAAV,EAAc,GAAd;AACA1E,MAAAA,EAAE,CAAC2E,YAAH;AACA3E,MAAAA,EAAE,CAACyE,cAAH,CAAkB,EAAlB,EAAsB,QAAtB,EAAgC,EAAhC;AACAzE,MAAAA,EAAE,CAACgE,UAAH,CAAc,OAAd,EAAuB,SAASwB,qDAAT,GAAiE;AAAE,eAAOnF,GAAG,CAACwB,WAAJ,CAAgB,GAAhB,CAAP;AAA8B,OAAxH;AACA7B,MAAAA,EAAE,CAAC0E,MAAH,CAAU,EAAV,EAAc,GAAd;AACA1E,MAAAA,EAAE,CAAC2E,YAAH;AACA3E,MAAAA,EAAE,CAACyE,cAAH,CAAkB,EAAlB,EAAsB,QAAtB,EAAgC,EAAhC;AACAzE,MAAAA,EAAE,CAACgE,UAAH,CAAc,OAAd,EAAuB,SAASyB,qDAAT,GAAiE;AAAE,eAAOpF,GAAG,CAACwB,WAAJ,CAAgB,GAAhB,CAAP;AAA8B,OAAxH;AACA7B,MAAAA,EAAE,CAAC0E,MAAH,CAAU,EAAV,EAAc,GAAd;AACA1E,MAAAA,EAAE,CAAC2E,YAAH;AACA3E,MAAAA,EAAE,CAACyE,cAAH,CAAkB,EAAlB,EAAsB,QAAtB,EAAgC,EAAhC;AACAzE,MAAAA,EAAE,CAACgE,UAAH,CAAc,OAAd,EAAuB,SAAS0B,qDAAT,GAAiE;AAAE,eAAOrF,GAAG,CAAC6B,SAAJ,CAAc,GAAd,CAAP;AAA4B,OAAtH;AACAlC,MAAAA,EAAE,CAAC0E,MAAH,CAAU,EAAV,EAAc,GAAd;AACA1E,MAAAA,EAAE,CAAC2E,YAAH;AACA3E,MAAAA,EAAE,CAACyE,cAAH,CAAkB,EAAlB,EAAsB,QAAtB,EAAgC,EAAhC;AACAzE,MAAAA,EAAE,CAACgE,UAAH,CAAc,OAAd,EAAuB,SAAS2B,qDAAT,GAAiE;AAAE,eAAOtF,GAAG,CAACwB,WAAJ,CAAgB,GAAhB,CAAP;AAA8B,OAAxH;AACA7B,MAAAA,EAAE,CAAC0E,MAAH,CAAU,EAAV,EAAc,GAAd;AACA1E,MAAAA,EAAE,CAAC2E,YAAH;AACA3E,MAAAA,EAAE,CAACyE,cAAH,CAAkB,EAAlB,EAAsB,QAAtB,EAAgC,EAAhC;AACAzE,MAAAA,EAAE,CAACgE,UAAH,CAAc,OAAd,EAAuB,SAAS4B,qDAAT,GAAiE;AAAE,eAAOvF,GAAG,CAACwB,WAAJ,CAAgB,GAAhB,CAAP;AAA8B,OAAxH;AACA7B,MAAAA,EAAE,CAAC0E,MAAH,CAAU,EAAV,EAAc,GAAd;AACA1E,MAAAA,EAAE,CAAC2E,YAAH;AACA3E,MAAAA,EAAE,CAACyE,cAAH,CAAkB,EAAlB,EAAsB,QAAtB,EAAgC,EAAhC;AACAzE,MAAAA,EAAE,CAACgE,UAAH,CAAc,OAAd,EAAuB,SAAS6B,qDAAT,GAAiE;AAAE,eAAOxF,GAAG,CAACwB,WAAJ,CAAgB,GAAhB,CAAP;AAA8B,OAAxH;AACA7B,MAAAA,EAAE,CAAC0E,MAAH,CAAU,EAAV,EAAc,GAAd;AACA1E,MAAAA,EAAE,CAAC2E,YAAH;AACA3E,MAAAA,EAAE,CAACyE,cAAH,CAAkB,EAAlB,EAAsB,QAAtB,EAAgC,EAAhC;AACAzE,MAAAA,EAAE,CAACgE,UAAH,CAAc,OAAd,EAAuB,SAAS8B,qDAAT,GAAiE;AAAE,eAAOzF,GAAG,CAAC4B,UAAJ,EAAP;AAA0B,OAApH;AACAjC,MAAAA,EAAE,CAAC0E,MAAH,CAAU,EAAV,EAAc,GAAd;AACA1E,MAAAA,EAAE,CAAC2E,YAAH;AACA3E,MAAAA,EAAE,CAACyE,cAAH,CAAkB,EAAlB,EAAsB,QAAtB,EAAgC,EAAhC;AACAzE,MAAAA,EAAE,CAACgE,UAAH,CAAc,OAAd,EAAuB,SAAS+B,qDAAT,GAAiE;AAAE,eAAO1F,GAAG,CAACwB,WAAJ,CAAgB,GAAhB,CAAP;AAA8B,OAAxH;AACA7B,MAAAA,EAAE,CAAC0E,MAAH,CAAU,EAAV,EAAc,GAAd;AACA1E,MAAAA,EAAE,CAAC2E,YAAH;AACA3E,MAAAA,EAAE,CAACyE,cAAH,CAAkB,EAAlB,EAAsB,QAAtB,EAAgC,EAAhC;AACAzE,MAAAA,EAAE,CAACgE,UAAH,CAAc,OAAd,EAAuB,SAASgC,qDAAT,GAAiE;AAAE,eAAO3F,GAAG,CAACgC,SAAJ,EAAP;AAAyB,OAAnH;AACArC,MAAAA,EAAE,CAAC0E,MAAH,CAAU,EAAV,EAAc,GAAd;AACA1E,MAAAA,EAAE,CAAC2E,YAAH;AACA3E,MAAAA,EAAE,CAACyE,cAAH,CAAkB,EAAlB,EAAsB,QAAtB,EAAgC,EAAhC;AACAzE,MAAAA,EAAE,CAACgE,UAAH,CAAc,OAAd,EAAuB,SAASiC,qDAAT,GAAiE;AAAE,eAAO5F,GAAG,CAAC6B,SAAJ,CAAc,GAAd,CAAP;AAA4B,OAAtH;AACAlC,MAAAA,EAAE,CAAC0E,MAAH,CAAU,EAAV,EAAc,GAAd;AACA1E,MAAAA,EAAE,CAAC2E,YAAH;AACA3E,MAAAA,EAAE,CAAC2E,YAAH;AACA3E,MAAAA,EAAE,CAAC2E,YAAH;AACH;;AAAC,QAAIvE,EAAE,GAAG,CAAT,EAAY;AACVJ,MAAAA,EAAE,CAACkG,SAAH,CAAa,CAAb;AACAlG,MAAAA,EAAE,CAACmG,kBAAH,CAAsB,EAAtB,EAA0B9F,GAAG,CAACY,gBAA9B,EAAgD,QAAhD;AACAjB,MAAAA,EAAE,CAACkG,SAAH,CAAa,CAAb;AACAlG,MAAAA,EAAE,CAACS,UAAH,CAAc,MAAd,EAAsBJ,GAAG,CAACsC,gBAAJ,EAAtB;AACA3C,MAAAA,EAAE,CAACkG,SAAH,CAAa,CAAb;AACAlG,MAAAA,EAAE,CAACoG,WAAH,CAAe,kBAAf,EAAmC,SAAnC;AACApG,MAAAA,EAAE,CAACS,UAAH,CAAc,SAAd,EAAyBJ,GAAG,CAACW,WAA7B;AACAhB,MAAAA,EAAE,CAACkG,SAAH,CAAa,CAAb;AACAlG,MAAAA,EAAE,CAACS,UAAH,CAAc,MAAd,EAAsBJ,GAAG,CAACgG,QAA1B;AACArG,MAAAA,EAAE,CAACkG,SAAH,CAAa,CAAb;AACAlG,MAAAA,EAAE,CAACS,UAAH,CAAc,UAAd,EAA0B,CAACJ,GAAG,CAAC2C,wBAAJ,EAA3B;AACAhD,MAAAA,EAAE,CAACkG,SAAH,CAAa,CAAb;AACAlG,MAAAA,EAAE,CAACS,UAAH,CAAc,MAAd,EAAsBJ,GAAG,CAACiG,iBAA1B;AACAtG,MAAAA,EAAE,CAACkG,SAAH,CAAa,CAAb;AACAlG,MAAAA,EAAE,CAACS,UAAH,CAAc,UAAd,EAA0B,CAACJ,GAAG,CAAC8C,oBAAJ,EAA3B;AACAnD,MAAAA,EAAE,CAACkG,SAAH,CAAa,CAAb;AACAlG,MAAAA,EAAE,CAACS,UAAH,CAAc,MAAd,EAAsBJ,GAAG,CAACkG,kBAA1B;AACAvG,MAAAA,EAAE,CAACkG,SAAH,CAAa,CAAb;AACAlG,MAAAA,EAAE,CAACS,UAAH,CAAc,UAAd,EAA0B,CAACJ,GAAG,CAACmC,oBAAJ,EAA3B;AACAxC,MAAAA,EAAE,CAACkG,SAAH,CAAa,CAAb;AACAlG,MAAAA,EAAE,CAACS,UAAH,CAAc,UAAd,EAA0B,CAACJ,GAAG,CAACmC,oBAAJ,EAA3B;AACAxC,MAAAA,EAAE,CAACkG,SAAH,CAAa,CAAb;AACAlG,MAAAA,EAAE,CAACS,UAAH,CAAc,UAAd,EAA0B,CAACJ,GAAG,CAACoC,oBAAJ,EAA3B;AACAzC,MAAAA,EAAE,CAACkG,SAAH,CAAa,CAAb;AACAlG,MAAAA,EAAE,CAACS,UAAH,CAAc,UAAd,EAA0B,CAACJ,GAAG,CAACqC,qBAAJ,EAA3B;AACA1C,MAAAA,EAAE,CAACkG,SAAH,CAAa,CAAb;AACAlG,MAAAA,EAAE,CAACS,UAAH,CAAc,UAAd,EAA0B,CAACJ,GAAG,CAACmC,oBAAJ,EAA3B;AACH;AAAE,GAxHuD;AAwHrDgE,EAAAA,MAAM,EAAE,CAAC,mIAAD;AAxH6C,CAArB,CAAzC;AAyHA,OAAO,IAAIrF,KAAJ;;AACP,CAAC,UAAUA,KAAV,EAAiB;AACdA,EAAAA,KAAK,CAACA,KAAK,CAAC,aAAD,CAAL,GAAuB,CAAxB,CAAL,GAAkC,aAAlC;AACAA,EAAAA,KAAK,CAACA,KAAK,CAAC,cAAD,CAAL,GAAwB,CAAzB,CAAL,GAAmC,cAAnC;AACAA,EAAAA,KAAK,CAACA,KAAK,CAAC,QAAD,CAAL,GAAkB,CAAnB,CAAL,GAA6B,QAA7B;AACAA,EAAAA,KAAK,CAACA,KAAK,CAAC,SAAD,CAAL,GAAmB,CAApB,CAAL,GAA8B,SAA9B;AACH,CALD,EAKGA,KAAK,KAAKA,KAAK,GAAG,EAAb,CALR;;AAMA;AACA,OAAO,MAAMsF,WAAW,GAAG;AACvB,OAAK,GADkB;AAEvB,OAAK,GAFkB;AAGvB,OAAK,GAHkB;AAIvB,OAAK;AAJkB,CAApB","sourcesContent":["import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/api.service.component\";\nconst _c0 = function () { return { \"color\": \"#fff\" }; };\nfunction CalculatorComponent_fa_icon_6_Template(rf, ctx) { if (rf & 1) {\n    i0.ɵɵelement(0, \"fa-icon\", 13);\n} if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"icon\", ctx_r0.faSpinner)(\"spin\", true)(\"styles\", i0.ɵɵpureFunction0(3, _c0));\n} }\n// import { Equation } from '../../models/equation';\n// import { faCaretSquareLeft, faCaretSquareRight, faEraser, faSpinner } from '@fortawesome/free-solid-svg-icons';\nexport const HISTORY_PAGE_SIZE = 1;\nexport class CalculatorComponent {\n    constructor(api) {\n        this.api = api;\n        this.screenValue = '';\n        this.upperScreenValue = '';\n        this.state = State.FirstNumber;\n        this.number1 = null;\n        this.number2 = null;\n        this.sign = null;\n        // public faCaretSquareLeft = faCaretSquareLeft;\n        // public faCaretSquareRight = faCaretSquareRight;\n        // public faEraser = faEraser;\n        // public faSpinner = faSpinner;\n        this.history = [];\n        this.currentHistoryShown = -1;\n        this.isLastHistoryElementShown = false;\n    }\n    ngOnInit() {\n        this.loadHistoryNextElement();\n    }\n    digitNumber(number) {\n        if (this.state == State.Result) {\n            this.reset();\n        }\n        this.screenValue += number;\n    }\n    digitMinus() {\n        if (this.screenValue == '') {\n            this.screenValue = '-';\n        }\n        else {\n            this.digitSign('-');\n        }\n    }\n    digitSign(sign) {\n        if (this.screenValue == '') {\n            return;\n        }\n        this.number1 = parseInt(this.screenValue);\n        this.upperScreenValue = this.number1 + ' ' + sign;\n        this.screenValue = '';\n        this.sign = sign;\n        this.state = State.SecondNumber;\n    }\n    getResult() {\n        if (this.screenValue == '') {\n            return;\n        }\n        this.number2 = parseInt(this.screenValue);\n        this.upperScreenValue += ' ' + this.number2;\n        this.screenValue = '';\n        this.elaborateResult();\n    }\n    reset() {\n        this.state = State.FirstNumber;\n        this.screenValue = '';\n        this.upperScreenValue = '';\n        this.number1 = null;\n        this.number2 = null;\n        this.sign = null;\n        this.resetHistoryNavigation();\n    }\n    isSignButtonsEnabled() {\n        return this.state == State.FirstNumber || this.state == State.Result; // && this.state != State.Loading;\n    }\n    isMinusButtonEnabled() {\n        return this.isSignButtonsEnabled() || this.state == State.SecondNumber;\n    }\n    isResultButtonEnabled() {\n        return this.state == State.SecondNumber; // && this.state != State.Loading;\n    }\n    isLoadingVisible() {\n        return this.state == State.Loading;\n    }\n    // private async elaborateResult() {\n    //     // mock\n    //     this.state = State.Loading;\n    //     const signSymbol = SignSymbols[this.sign];\n    //     // await new Promise( resolve => setTimeout(resolve, 500) );\n    //     try {\n    //         const equationObj: any = await this.api.solveEquation(this.number1, this.number2, signSymbol).toPromise();\n    //         const equation: Equation = equationObj;\n    //         this.state = State.Result;\n    //         this.history = [];\n    //         this.showResult(equation);\n    //     } catch(error) {\n    //         alert('API Server error');\n    //         this.reset();\n    //     }\n    // }\n    // private showResult(equation: Equation) {\n    //     this.screenValue = equation.result + '';\n    // }\n    handleKeyboardEvents(keyPress) {\n        let key = keyPress.key;\n        switch (key) {\n            case '0':\n                this.digitNumber(key);\n                break;\n            case '1':\n                this.digitNumber(key);\n                break;\n            case '2':\n                this.digitNumber(key);\n                break;\n            case '3':\n                this.digitNumber(key);\n                break;\n            case '4':\n                this.digitNumber(key);\n                break;\n            case '5':\n                this.digitNumber(key);\n                break;\n            case '6':\n                this.digitNumber(key);\n                break;\n            case '7':\n                this.digitNumber(key);\n                break;\n            case '8':\n                this.digitNumber(key);\n                break;\n            case '9':\n                this.digitNumber(key);\n                break;\n            case '+':\n                this.digitSign(key);\n                break;\n            case '-':\n                this.digitSign(key);\n                break;\n            case '*':\n                this.digitSign(key);\n                break;\n            case '/':\n                this.digitSign(key);\n                break;\n            case '=':\n                this.getResult();\n                break;\n            case 'Enter':\n                this.getResult();\n                break;\n        }\n    }\n    // Equation history and pagination handling\n    isPreviousHistoryEnabled() {\n        return this.history && Array.isArray(this.history)\n            && !this.isLastHistoryElementShown;\n    }\n    isNextHistoryEnabled() {\n        return this.history && this.history.length > 0 &&\n            this.currentHistoryShown >= 0;\n    }\n    resetHistoryNavigation() {\n        this.currentHistoryShown = -1;\n        this.isLastHistoryElementShown = false;\n    }\n}\nCalculatorComponent.ɵfac = function CalculatorComponent_Factory(t) { return new (t || CalculatorComponent)(i0.ɵɵdirectiveInject(i1.ApiService)); };\nCalculatorComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: CalculatorComponent, selectors: [[\"app-calculator\"]], hostBindings: function CalculatorComponent_HostBindings(rf, ctx) { if (rf & 1) {\n        i0.ɵɵlistener(\"keypress\", function CalculatorComponent_keypress_HostBindingHandler($event) { return ctx.handleKeyboardEvents($event); }, false, i0.ɵɵresolveDocument);\n    } }, decls: 45, vars: 15, consts: [[1, \"calculator-container\", \"w-container\"], [1, \"calc-background-field\"], [1, \"formula\"], [1, \"_100\", \"calcelement\"], [1, \"text-field-wrapper\", \"w-form\", \"screen-container\"], [\"class\", \"loading-icon\", \"size\", \"lg\", 3, \"icon\", \"spin\", \"styles\", 4, \"ngIf\"], [\"data-name\", \"calculator io\", \"id\", \"wf-form-calculator-io\", \"name\", \"wf-form-calculator-io\"], [\"data-name\", \"screen\", \"id\", \"screen\", \"maxlength\", \"256\", \"name\", \"screen\", \"placeholder\", \"0\", \"type\", \"text\", \"pattern\", \"[0-9-+*/.()]\", \"readonly\", \"\", 1, \"text-field\", \"w-input\", 3, \"ngModel\", \"ngModelChange\"], [1, \"_25\", \"_50\", \"button\", \"calcelement\", 3, \"click\"], [3, \"icon\"], [1, \"_25\", \"button\", \"calcelement\", 3, \"disabled\", \"click\"], [1, \"_25\", \"bold\", \"button\", \"calcelement\", 3, \"click\"], [1, \"_25\", \"_50\", \"button\", \"calcelement\", 3, \"disabled\", \"click\"], [\"size\", \"lg\", 1, \"loading-icon\", 3, \"icon\", \"spin\", \"styles\"]], template: function CalculatorComponent_Template(rf, ctx) { if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelementStart(1, \"div\", 1);\n        i0.ɵɵelementStart(2, \"div\", 2);\n        i0.ɵɵtext(3);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"div\", 3);\n        i0.ɵɵelementStart(5, \"div\", 4);\n        i0.ɵɵtemplate(6, CalculatorComponent_fa_icon_6_Template, 1, 4, \"fa-icon\", 5);\n        i0.ɵɵelementStart(7, \"form\", 6);\n        i0.ɵɵelementStart(8, \"input\", 7);\n        i0.ɵɵlistener(\"ngModelChange\", function CalculatorComponent_Template_input_ngModelChange_8_listener($event) { return ctx.screenValue = $event; });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"div\", 8);\n        i0.ɵɵlistener(\"click\", function CalculatorComponent_Template_div_click_9_listener() { return ctx.reset(); });\n        i0.ɵɵelement(10, \"fa-icon\", 9);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(11, \"button\", 10);\n        i0.ɵɵlistener(\"click\", function CalculatorComponent_Template_button_click_11_listener() { return ctx.showHistoryPrevious(); });\n        i0.ɵɵelement(12, \"fa-icon\", 9);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(13, \"button\", 10);\n        i0.ɵɵlistener(\"click\", function CalculatorComponent_Template_button_click_13_listener() { return ctx.showHistoryNext(); });\n        i0.ɵɵelement(14, \"fa-icon\", 9);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(15, \"button\", 11);\n        i0.ɵɵlistener(\"click\", function CalculatorComponent_Template_button_click_15_listener() { return ctx.digitNumber(\"7\"); });\n        i0.ɵɵtext(16, \"7\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(17, \"button\", 11);\n        i0.ɵɵlistener(\"click\", function CalculatorComponent_Template_button_click_17_listener() { return ctx.digitNumber(\"8\"); });\n        i0.ɵɵtext(18, \"8\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(19, \"button\", 11);\n        i0.ɵɵlistener(\"click\", function CalculatorComponent_Template_button_click_19_listener() { return ctx.digitNumber(\"9\"); });\n        i0.ɵɵtext(20, \"9\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(21, \"button\", 10);\n        i0.ɵɵlistener(\"click\", function CalculatorComponent_Template_button_click_21_listener() { return ctx.digitSign(\"/\"); });\n        i0.ɵɵtext(22, \"\\u00F7\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(23, \"button\", 11);\n        i0.ɵɵlistener(\"click\", function CalculatorComponent_Template_button_click_23_listener() { return ctx.digitNumber(\"4\"); });\n        i0.ɵɵtext(24, \"4\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(25, \"button\", 11);\n        i0.ɵɵlistener(\"click\", function CalculatorComponent_Template_button_click_25_listener() { return ctx.digitNumber(\"5\"); });\n        i0.ɵɵtext(26, \"5\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(27, \"button\", 11);\n        i0.ɵɵlistener(\"click\", function CalculatorComponent_Template_button_click_27_listener() { return ctx.digitNumber(\"6\"); });\n        i0.ɵɵtext(28, \"6\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(29, \"button\", 10);\n        i0.ɵɵlistener(\"click\", function CalculatorComponent_Template_button_click_29_listener() { return ctx.digitSign(\"x\"); });\n        i0.ɵɵtext(30, \"x\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(31, \"button\", 11);\n        i0.ɵɵlistener(\"click\", function CalculatorComponent_Template_button_click_31_listener() { return ctx.digitNumber(\"1\"); });\n        i0.ɵɵtext(32, \"1\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(33, \"button\", 11);\n        i0.ɵɵlistener(\"click\", function CalculatorComponent_Template_button_click_33_listener() { return ctx.digitNumber(\"2\"); });\n        i0.ɵɵtext(34, \"2\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(35, \"button\", 11);\n        i0.ɵɵlistener(\"click\", function CalculatorComponent_Template_button_click_35_listener() { return ctx.digitNumber(\"3\"); });\n        i0.ɵɵtext(36, \"3\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(37, \"button\", 10);\n        i0.ɵɵlistener(\"click\", function CalculatorComponent_Template_button_click_37_listener() { return ctx.digitMinus(); });\n        i0.ɵɵtext(38, \"-\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(39, \"button\", 11);\n        i0.ɵɵlistener(\"click\", function CalculatorComponent_Template_button_click_39_listener() { return ctx.digitNumber(\"0\"); });\n        i0.ɵɵtext(40, \"0\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(41, \"button\", 12);\n        i0.ɵɵlistener(\"click\", function CalculatorComponent_Template_button_click_41_listener() { return ctx.getResult(); });\n        i0.ɵɵtext(42, \"=\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(43, \"button\", 10);\n        i0.ɵɵlistener(\"click\", function CalculatorComponent_Template_button_click_43_listener() { return ctx.digitSign(\"+\"); });\n        i0.ɵɵtext(44, \"+\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n    } if (rf & 2) {\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate1(\"\", ctx.upperScreenValue, \"\\u00A0\");\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", ctx.isLoadingVisible());\n        i0.ɵɵadvance(2);\n        i0.ɵɵstyleProp(\"background-color\", \"#424242\");\n        i0.ɵɵproperty(\"ngModel\", ctx.screenValue);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"icon\", ctx.faEraser);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"disabled\", !ctx.isPreviousHistoryEnabled());\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"icon\", ctx.faCaretSquareLeft);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"disabled\", !ctx.isNextHistoryEnabled());\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"icon\", ctx.faCaretSquareRight);\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"disabled\", !ctx.isSignButtonsEnabled());\n        i0.ɵɵadvance(8);\n        i0.ɵɵproperty(\"disabled\", !ctx.isSignButtonsEnabled());\n        i0.ɵɵadvance(8);\n        i0.ɵɵproperty(\"disabled\", !ctx.isMinusButtonEnabled());\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"disabled\", !ctx.isResultButtonEnabled());\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"disabled\", !ctx.isSignButtonsEnabled());\n    } }, styles: [\"(()[_ngcontent-%COMP%]   =[_ngcontent-%COMP%] >  { // webpackBootstrap\\n \\t\\\"use strict\\\";\\n \\t\\n \\t\\n })()[_ngcontent-%COMP%]\\n;\"] });\nexport var State;\n(function (State) {\n    State[State[\"FirstNumber\"] = 0] = \"FirstNumber\";\n    State[State[\"SecondNumber\"] = 1] = \"SecondNumber\";\n    State[State[\"Result\"] = 2] = \"Result\";\n    State[State[\"Loading\"] = 3] = \"Loading\";\n})(State || (State = {}));\n;\nexport const SignSymbols = {\n    '+': '+',\n    '-': '-',\n    'x': 'x',\n    '/': ':'\n};\n"]},"metadata":{},"sourceType":"module"}